<nb-card class="card-principal col-md-12 border-0" [nbPopover]="templeteRef"
  nbPopoverTrigger="hover" [nbPopoverContext]="{doc: documento}"
  [nbSpinner]="loadingData" [nbSpinnerSize]="'giant'"
  [nbSpinnerMessage]="'Cargando informaciÃ³n'" [nbSpinnerStatus]="'primary'">

  <nb-badge *ngIf="badge !== undefined" [text]="badge.text"
    [status]="badge.status"></nb-badge>

  <!-- Input para subir el archivo -->
  <input #f [hidden]="true" type="file" (change)="uploadFile($event);"
    name="file" id="file">

  <!-- Imagen de muestra del archivo -->
  <img class="picture m-auto" alt="foto"
    [src]="(documento.foto_ejemplo === '') ? 'assets/ext/' + documento.formato + '.png'  : documento.foto_ejemplo">

  <!-- Nombre -->
  <p class="mt-2 text-center text-truncate">{{ documento.nombre }}</p>

  <!-- button -->
  <div class="content-buttons">
    <button *ngIf="btnView" nbButton shape="semi-round" status="warning"
      nbPopoverTrigger="hint" nbPopover="Ver documento"
      (click)="viewDocumento(documento)">
      <nb-icon icon="eye" pack="eva"></nb-icon>
    </button>

    <button *ngIf="btnUpload" nbButton shape="semi-round" status="success"
      nbPopoverTrigger="hint" nbPopover="Descargar"
      (click)="downloadDocumento(documento)">
      <nb-icon icon="cloud-download" pack="eva"></nb-icon>
    </button>

    <button *ngIf="btnUpload" nbButton shape="semi-round" status="info"
      nbPopoverTrigger="hint" nbPopover="Subir documento" (click)="f.click()">
      <nb-icon icon="cloud-upload" pack="eva"></nb-icon>
    </button>
  </div>
</nb-card>

<!-- Templeate del popover -->
<ng-template #templeteRef let-data>
  <nb-card style="margin:0;padding:0;">
    <nb-card-header>
      {{ data.doc.nombre }}
    </nb-card-header>

    <nb-card-body class="col-md-12">
      <nb-list>
        <nb-list-item>
          <img class="m-auto" alt="foto" height="200"
            [src]="(data.doc.foto_ejemplo === '') ? 'assets/ext/' + data.doc.formato + '.png'  : data.doc.foto_ejemplo">
        </nb-list-item>
        <nb-list-item>
          Formato: {{ data.doc.formato }}
        </nb-list-item>
        <nb-list-item>
          Peso maximo (mb): {{ data.doc.peso_max }}
        </nb-list-item>
        <nb-list-item>
          {{ (data.doc.requerido === 'a')? 'Obligatorio' : 'Opcional' }}
        </nb-list-item>
      </nb-list>
    </nb-card-body>
  </nb-card>
</ng-template>